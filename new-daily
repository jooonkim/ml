#!/bin/bash

# Today's date
TODAY=$(date +%Y-%m-%d)

# Directory for the new post
DIR="posts/daily/$TODAY"

echo "Creating daily ML post for $TODAY..."

# 1. Create directory
mkdir -p "$DIR"

# 2. Create index.qmd with correct frontmatter
cat > "$DIR/index.qmd" << EOF
---
title: "Daily Notes: $TODAY"
date: $TODAY
categories: [daily]
---


ML Notes
- 


- 

```{python}
#| context: setup
#| echo: false
#| include: false
import sys
from pathlib import Path


def _ensure_code_on_path(marker="_quarto.yml", code_dir="code"):
    """Add the shared code directory to sys.path when rendering notes."""
    cwd = Path.cwd().resolve()
    for candidate in (cwd, *cwd.parents):
        if (candidate / marker).exists():
            code_path = candidate / code_dir
            if code_path.exists() and str(code_path) not in sys.path:
                sys.path.insert(0, str(code_path))
            return
    raise RuntimeError(f"Could not locate {marker} above {cwd}")


_ensure_code_on_path()
```

Personal Notes
-
- 


Questions I still have
- 
- 


Tomorrow's plan
- 
- 


EOF

echo "Done! File created at:"
echo "$DIR/index.qmd"

